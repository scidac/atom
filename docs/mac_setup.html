

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Complete MacOS install of AToM with MacPorts &mdash; AToM</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Meetings and AToM Team Members" href="team.html" />
    <link rel="prev" title="AToM Literature" href="literature.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> AToM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Navigation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="components.html">AToM Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="find.html">Repositories, links, and information</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Getting Started with AToM</a></li>
<li class="toctree-l1"><a class="reference internal" href="literature.html">AToM Literature</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Complete MacOS install of AToM with MacPorts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install">Install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="team.html">Meetings and AToM Team Members</a></li>
<li class="toctree-l1"><a class="reference internal" href="tour.html">A Brief Tour of AToM</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AToM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Complete MacOS install of AToM with MacPorts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mac_setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="complete-macos-install-of-atom-with-macports">
<h1>Complete MacOS install of AToM with MacPorts<a class="headerlink" href="#complete-macos-install-of-atom-with-macports" title="Permalink to this headline">¶</a></h1>
<p>This guide will provide step-by-step instructions for installing AToM Tier 1 on a fresh MacOS system.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Adminstrator access on your Mac is required for an install with this method.</p>
<p>Most instructions require the mac Terminal app to be open so commands can be input.</p>
<p>In addition, for a full install, a <a class="reference external" href="https://github.com">github</a> account is required along with access to the following git repositories:</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://github.com/gafusion/OMFIT-source">https://github.com/gafusion/OMFIT-source</a></li>
<li><a class="reference external" href="https://github.com/ORNL-Fusion/ips-atom">https://github.com/ORNL-Fusion/ips-atom</a></li>
<li><a class="reference external" href="https://github.com/gafusion/gacode">https://github.com/gafusion/gacode</a></li>
<li><a class="reference external" href="https://github.com/gafusion/gacode_add">https://github.com/gafusion/gacode_add</a></li>
<li><a class="reference external" href="https://github.com/gafusion/EPED">https://github.com/gafusion/EPED</a></li>
<li><a class="reference external" href="https://github.com/boutproject/BOUT-dev">https://github.com/boutproject/BOUT-dev</a></li>
<li><a class="reference external" href="https://github.com/gafusion/harvest_client">https://github.com/gafusion/harvest_client</a></li>
<li><a class="reference external" href="https://github.com/libfann/fann">https://github.com/libfann/fann</a></li>
<li><a class="reference external" href="https://github.com/libfann/fann">https://github.com/libfann/fann</a></li>
<li><a class="reference external" href="https://github.com/gafusion/omas">https://github.com/gafusion/omas</a></li>
<li><a class="reference external" href="https://github.com/gafusion/neural">https://github.com/gafusion/neural</a></li>
</ol>
<p>Any steps you have completed previously can be skipped.</p>
</div>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Install Developer command line tools type</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">xcode</span><span class="o">-</span><span class="n">select</span> <span class="o">--</span><span class="n">install</span>
</pre></div>
</div>
<p>Then click the “Install” button in the dialog box that appears.</p>
<p>Then agree to the license agreement.</p>
</li>
<li><p class="first">Generate SSH keys if you do not currently have them. This is used to authenticate with github later.</p>
<blockquote>
<div><p>To check if you have existing ssh keys</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa</span><span class="o">.</span><span class="n">pub</span>
</pre></div>
</div>
<p>This will return “No such file or directory” if it does NOT exist.  If it exists, skip to step 3, if not, generate your ssh keys</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span> <span class="o">-</span><span class="n">b</span> <span class="mi">4096</span>
</pre></div>
</div>
<p>Keep the default location to save the key by pressing enter.</p>
<p>Enter a passphrase.  You will need this passphrase every time you access a github repo.  If you do not enter a passphrase anyone who has access to your private key will be able to impersonate your computer.</p>
</div></blockquote>
</li>
<li><p class="first">Add public ssh key to github.  Instructions found <a class="reference external" href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/">here</a></p>
</li>
<li><p class="first">Setup git email and name</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s2">&quot;Your Name&quot;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="s2">&quot;your_email@example.com&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Install Mac Ports.  Instructions found <a class="reference external" href="https://www.macports.org/install.php">here</a></p>
</li>
<li><p class="first">In order to use any X11 enabled tools, install X-Quartz.  It can be found <a class="reference external" href="https://www.xquartz.org/">here</a> . After installing, it will require logging out of your computer and logging back in before it can be used. (Apple menu -&gt; Log Out)</p>
</li>
<li><p class="first">In the terminal, navigate to where you would like AToM installed and clone the git repository.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">scidac</span><span class="o">/</span><span class="n">atom</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>If it asks if you want to continue connecting, say yes.</p>
</li>
<li><p class="first">Install and configure the prerequisites with Mac Ports.  Enter your computer’s password (not the SSH key passphrase) when promped and enter ‘Y’ when prompted to confirm installs.  Some of these installs (like openmpi) may take a while.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">cmake</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">openmpi</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="nb">set</span> <span class="n">mpi</span> <span class="n">openmpi</span><span class="o">-</span><span class="n">mp</span><span class="o">-</span><span class="n">fortran</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">fftw</span><span class="o">-</span><span class="mi">3</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">fann</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">netcdf</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">netcdf</span><span class="o">-</span><span class="n">fortran</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">netcdf</span><span class="o">-</span><span class="n">cxx</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">doxygen</span>
</pre></div>
</div>
</li>
<li><p class="first">Export compiler locations for cmake (Exact names may vary.  If you close your terminal, you may have to do this step again)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">FC</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gfortran</span><span class="o">-</span><span class="n">mp</span><span class="o">-</span><span class="mi">7</span>
<span class="n">export</span> <span class="n">CC</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="n">mp</span><span class="o">-</span><span class="mi">7</span>
<span class="n">export</span> <span class="n">CXX</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">g</span><span class="o">++-</span><span class="n">mp</span><span class="o">-</span><span class="mi">7</span>
</pre></div>
</div>
</li>
<li><p class="first">Configure and make AToM.  Enter your ssh key passphrase when prompted (Not your computer password)</p>
<p>cd atom
make set plat=GFORTRAN_OSX_MACPORTS
make all ATOM_PLATFORM=GFORTRAN_OSX_MACPORTS</p>
</li>
<li><p class="first">Add environment variables to your .profile so tools are available in your next terminal session</p>
</li>
<li><p class="first">Install OMFIT prerequisites.  Answer ‘Y’ to any prompts asking if you want to install and enter computer’s password when prompted.  Assuming you are still in the atom directory, type ::
cd OMFIT-source/install/ports
./install.sh</p>
</li>
</ol>
<blockquote>
<div><p>If you run into problems with Mac Ports here, you may need to switch to the unstable branch. (From within the OMFIT-source directory)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">unstable</span>
<span class="n">cd</span> <span class="n">OMFIT</span><span class="o">-</span><span class="n">source</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">ports</span>
<span class="o">./</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="team.html" class="btn btn-neutral float-right" title="Meetings and AToM Team Members" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="literature.html" class="btn btn-neutral" title="AToM Literature" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>